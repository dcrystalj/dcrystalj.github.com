<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Tomaลพ Tomaลพiฤ"><link rel="shortcut icon" type=image/x-icon href=https://www.tomazic.pro/img/favicon.ico><title>Calculating Huge Number Modulo | dcrystalj</title><meta name=description content="I have stumbled upon a task to calculate modulo of 5 * (2ยนโฐ)ยนโธ where mod = 10โน+7
Using multiplication formula
x * y % mod = ((x % mod) * (y % mod)) % mod
we can first split our problem to
(n % mod) * ((2 ยนโฐ)ยนโธ % mod) % mod = X
and then to
(n % mod) * ((2 ยนโฐ*ยนโธ % mod) % mod = X
Modern programing languages like python can do this already in pow (exponent) function has third parameter for mod."><link href=https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css rel=stylesheet integrity=sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl crossorigin=anonymous><link rel="preload stylesheet" href=/css/main.min.css as=style><link rel=stylesheet type=text/css href=https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css><link rel=stylesheet type=text/css href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,400,200bold,400old"><link rel=stylesheet href=/css/applause-button.css><script src=/js/applause-button.js></script><!--[if lt IE 9]><script src=https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js></script><script src=https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js></script><![endif]--><link rel=stylesheet type=text/css href=https://www.tomazic.pro/css/vitae-skeleton.css><link rel=stylesheet type=text/css href=https://www.tomazic.pro/css/vitae-layout.css><link rel=stylesheet type=text/css href=https://www.tomazic.pro/css/sustain-main.css><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','G-LQJ8L15S31','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body><div id=content><div class="container mb-3"><nav class="navbar navbar-expand-lg"><div class=container-fluid><button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#navbar aria-controls=navbar>
<i class="fa fa-bars"></i></button><div id=navbar class="collapse navbar-collapse"><ul class="navbar-nav ms-auto mb-2 mb-lg-0"><li class=nav-item><li><a class=nav-link href=/blog/>BLOG</a></li></li><li class=nav-item><li><a class=nav-link href=/resume/>RESUME</a></li></li></ul></div></div></div></nav><div class=container><h3 class=mt-3><b><a href=https://www.tomazic.pro/blog/calculating-huge-number-modulo/>Calculating Huge Number Modulo</a></b></h3><div class="blog-title my-4"></div><div class=panel><div class=panel-body><div class=blogpost><p>I have stumbled upon a task to calculate modulo of <code>5 * (2ยนโฐ)ยนโธ</code> where <code>mod = 10โน+7</code></p><p>Using multiplication formula</p><p><code>x * y % mod = ((x % mod) * (y % mod)) % mod</code></p><p>we can first split our problem to</p><p><code>(n % mod) * ((2 ยนโฐ)ยนโธ % mod) % mod = X</code></p><p>and then to</p><p><code>(n % mod) * ((2 ยนโฐ*ยนโธ % mod) % mod = X</code></p><p>Modern programing languages like python can do this already in pow (exponent) function has third parameter for mod.</p><p><code>(5 * pow(2, 10 * 18, mod) ) % mod = 256609439</code>
Interesting enough python <code>pow</code> support this but <code>math.pow</code> does not ๐ฌ</p><p>Behind the scenes language can do this in log(n) complexity using same multiplication principle as described above.
Lets implement this ourselves in case your language does not support this like golang.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-golang data-lang=golang><span style=color:#204a87;font-weight:700>package</span> <span style=color:#000>main</span>

<span style=color:#204a87;font-weight:700>import</span> <span style=color:#4e9a06>&#34;fmt&#34;</span>

<span style=color:#204a87;font-weight:700>const</span> <span style=color:#000>mod</span> <span style=color:#204a87;font-weight:700>int64</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>1e9</span> <span style=color:#ce5c00;font-weight:700>+</span> <span style=color:#0000cf;font-weight:700>7</span>

<span style=color:#204a87;font-weight:700>func</span> <span style=color:#000>main</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
	<span style=color:#000>fmt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Printf</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;%d&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>5</span> <span style=color:#ce5c00;font-weight:700>*</span> <span style=color:#000>pow</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>10</span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#0000cf;font-weight:700>18</span><span style=color:#000;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>%</span> <span style=color:#000>mod</span><span style=color:#000;font-weight:700>))</span>
<span style=color:#000;font-weight:700>}</span>

<span style=color:#204a87;font-weight:700>func</span> <span style=color:#000>pow</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>base</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>exp</span> <span style=color:#204a87;font-weight:700>int64</span><span style=color:#000;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>int64</span> <span style=color:#000;font-weight:700>{</span>
	<span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>res</span> <span style=color:#204a87;font-weight:700>int64</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>1</span>
	<span style=color:#204a87;font-weight:700>for</span> <span style=color:#000>exp</span> <span style=color:#000;font-weight:700>&gt;</span> <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>{</span>
		<span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>exp</span><span style=color:#ce5c00;font-weight:700>&amp;</span><span style=color:#0000cf;font-weight:700>1</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#0000cf;font-weight:700>1</span> <span style=color:#000;font-weight:700>{</span>
			<span style=color:#000>res</span> <span style=color:#ce5c00;font-weight:700>*=</span> <span style=color:#000>base</span>
			<span style=color:#000>res</span> <span style=color:#ce5c00;font-weight:700>%=</span> <span style=color:#000>mod</span>
		<span style=color:#000;font-weight:700>}</span>
		<span style=color:#000>base</span> <span style=color:#ce5c00;font-weight:700>*=</span> <span style=color:#000>base</span>
		<span style=color:#000>base</span> <span style=color:#ce5c00;font-weight:700>%=</span> <span style=color:#000>mod</span>
		<span style=color:#000>exp</span> <span style=color:#ce5c00;font-weight:700>/=</span> <span style=color:#0000cf;font-weight:700>2</span>
	<span style=color:#000;font-weight:700>}</span>
	<span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>res</span>
<span style=color:#000;font-weight:700>}</span>
</code></pre></div></div><div class=blogpost__footer>October 22, 2021
&nbsp;&nbsp;
<span class="badge bg-success">math</span>
<span class="badge bg-success">modulo</span></div></div><div class=applause><applause-button class=applause__button url=https://www.tomazic.pro/blog/calculating-huge-number-modulo/ color=#22a8a1></div><div class=disqus><div id=disqus_thread></div><script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return;}
var d=document,s=d.createElement('script');s.async=true;s.src='//'+"dcrystalj"+'.disqus.com/embed.js';s.setAttribute('data-timestamp',+new Date());(d.head||d.body).appendChild(s);})();</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></div></div></div><footer class=footer><div class=container><div class=text-muted>&copy; All rights reserved 2022</div></div></footer><script src=https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.min.js integrity=sha384-nsg8ua9HAw1y0W1btsyWgBklPnCUAFLuTMS2G72MMONqmOymq585AcH49TLBQObG crossorigin=anonymous></script></body></html>